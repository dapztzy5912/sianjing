<!DOCTYPE html>
<html>
<head>
    <title>NGL Spammer</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="container">
        <h1>NGL Spammer</h1>
        <input type="text" id="nglUsername" placeholder="NGL Username" required>
        <textarea id="message" placeholder="Pesan" required></textarea>
        <input type="number" id="count" placeholder="Jumlah Spam (max 500)" value="100" min="1" max="500">
        <button id="spamButton">SPAM!</button>
        <div id="status"></div>
        <ul id="results"></ul>
    </div>
    <script>
        document.getElementById('spamButton').addEventListener('click', function() {
    const nglUsername = document.getElementById('nglUsername').value;
    const message = document.getElementById('message').value;
    const count = document.getElementById('count').value;
    const statusDiv = document.getElementById('status');
    const resultsList = document.getElementById('results');

    resultsList.innerHTML = ''; // Clear previous results
    statusDiv.textContent = 'Sedang menjalankan spam...';

    fetch('/api/spam', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ nglusername: nglUsername, message: message, count: count })
    })
    .then(response => response.json())
    .then(data => {
        statusDiv.textContent = 'Spam selesai!';
        data.results.forEach((result, index) => {
            const listItem = document.createElement('li');
            listItem.textContent = `Pesan ${index + 1}: ${result ? 'Berhasil' : 'Gagal'}`;
            resultsList.appendChild(listItem);
        });
    })
    .catch(error => {
        console.error('Error:', error);
        statusDiv.textContent = 'Terjadi kesalahan saat mengirim spam.';
    });
});
    </script>
</body>
</html>
